<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì´ˆë“± í•˜ë£¨ í•œì - 100ë‹¨ì–´ ë§ˆìŠ¤í„°</title>
    <script src="https://cdn.jsdelivr.net/npm/hanzi-writer@3.0.0/dist/hanzi-writer.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Jua&display=swap');
        :root { --primary: #FF7F50; --secondary: #FFD700; --bg: #FDFCF0; --point-blue: #2196F3; }
        body { font-family: 'Jua', sans-serif; background-color: var(--bg); margin: 0; padding: 0; color: #333; }
        header { background: white; padding: 15px 20px; display: flex; justify-content: space-between; align-items: center; border-bottom: 4px solid var(--secondary); position: sticky; top: 0; z-index: 100; }
        .logo { font-size: 1.8rem; color: var(--primary); cursor: pointer; }
        .nav-menu button { background: var(--primary); color: white; border: none; padding: 8px 15px; border-radius: 10px; cursor: pointer; font-family: 'Jua'; margin-left: 5px; }
        .page { display: none; padding: 20px; max-width: 800px; margin: auto; }
        .active { display: block; }
        .card { background: white; padding: 30px; border-radius: 25px; box-shadow: 0 10px 20px rgba(0,0,0,0.05); margin-bottom: 25px; text-align: center; }
        .section-title { border-left: 5px solid var(--primary); padding-left: 10px; margin-top: 30px; text-align: left; }
        .step-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; background: #fff; padding: 10px 20px; border-radius: 50px; }
        .btn-step { background: var(--primary); color: white; border: none; padding: 8px 20px; border-radius: 20px; cursor: pointer; font-family: 'Jua'; }
        .writer-flex { display: flex; justify-content: center; gap: 20px; margin: 20px 0; }
        .char-box { border: 2px solid #ddd; border-radius: 15px; background: white; padding: 10px; width: 140px; height: 140px; display: flex; align-items: center; justify-content: center; }
        .quiz-option { display: block; width: 100%; padding: 15px; margin: 10px 0; background: white; border: 2px solid #eee; border-radius: 15px; font-family: 'Jua'; font-size: 1.2rem; cursor: pointer; }
        .feedback-msg { height: 35px; font-size: 1.3rem; font-weight: bold; margin-bottom: 10px; }
        .btn-action { background: #4CAF50; color: white; border: none; padding: 12px 25px; border-radius: 15px; font-size: 1.1rem; cursor: pointer; font-family: 'Jua'; margin: 5px; }
        .progress-container { width: 100%; background-color: #eee; border-radius: 10px; margin-bottom: 10px; height: 8px; }
        .progress-fill { height: 100%; background-color: var(--point-blue); border-radius: 10px; width: 0%; transition: 0.3s; }
        .breakdown-table { width: 100%; border-collapse: collapse; margin-top: 15px; background: #fff; }
        .breakdown-table td { border: 1px solid #eee; padding: 15px; text-align: left; }
        .hanja-display { font-size: 2.5rem; color: var(--primary); text-align: center; width: 80px; font-weight: bold; }
    </style>
</head>
<body>

<header>
    <div class="logo" onclick="location.reload()">ğŸŒŸ í•˜ë£¨ í•œì 100</div>
    <div class="nav-menu">
        <button onclick="showPage('page1')">í•™ìŠµí•˜ê¸°</button>
        <button onclick="showPage('page2')">ì§ì ‘ì¨ë³´ê¸°</button>
    </div>
</header>

<div id="page1" class="page active">
    <div id="study-box">
        <div class="progress-container"><div id="main-progress" class="progress-fill"></div></div>
        <div class="step-bar">
            <button id="prev-btn" class="btn-step" onclick="changeWord(-1)">â—€ ì´ì „</button>
            <span id="progress-text">1 / 100</span>
            <button id="next-btn" class="btn-step" onclick="changeWord(1)">ë‹¤ìŒ â–¶</button>
        </div>
        
        <div class="card">
            <button class="btn-action" style="background:#9C27B0;" id="btn-speak-top">ğŸ”Š ì†Œë¦¬ ë“£ê¸°</button>
            <h1 id="main-word" style="color:var(--point-blue); font-size: 3rem; margin: 10px 0;"></h1>
            <p id="main-desc" style="font-size:1.4rem; color:#666;"></p>
            
            <h3 class="section-title">â‘  í•œì ëœ»í’€ì´</h3>
            <table class="breakdown-table" id="breakdown-content"></table>

            <h3 class="section-title">â‘¡ íšìˆœ ë³´ê¸° (ìˆœì„œëŒ€ë¡œ ì¨ìš”)</h3>
            <div class="writer-flex">
                <div id="view-char1" class="char-box"></div>
                <div id="view-char2" class="char-box"></div>
            </div>
            <button class="btn-action" style="background:#2196F3;" onclick="playSequence()">ë‹¤ì‹œ ë³´ê¸°</button>

            <h3 class="section-title">â‘¢ í€´ì¦ˆ íŒ¡íŒ¡!</h3>
            <div id="quiz-feedback" class="feedback-msg"></div>
            <div id="quiz-content"></div>
        </div>
    </div>
</div>

<div id="page2" class="page">
    <div class="card">
        <h2>âœï¸ ì§ì ‘ ì¨ë³´ê¸°</h2>
        <div id="target-draw" class="char-box" style="width:240px; height:240px; margin: auto;"></div>
        <p id="quiz-guide" style="font-size:1.5rem; color:var(--primary); margin: 20px 0;">ê¸€ìë¥¼ ì„ íƒí•´ ì£¼ì„¸ìš”.</p>
        <div id="draw-buttons"></div>
    </div>
</div>

<script>
    const hanjaList = [
        { word: 'ë¶€ëª¨', hanja: 'çˆ¶æ¯', desc: 'ì•„ë²„ì§€ì™€ ì–´ë¨¸ë‹ˆ', break: ['ì•„ë²„ì§€ ë¶€', 'ì–´ë¨¸ë‹ˆ ëª¨'] },
        { word: 'í˜•ì œ', hanja: 'å…„å¼Ÿ', desc: 'í˜•ê³¼ ë‚¨ë™ìƒ', break: ['ë§ í˜•', 'ì•„ìš° ì œ'] },
        { word: 'ìë§¤', hanja: 'å§‰å¦¹', desc: 'ì–¸ë‹ˆì™€ ì—¬ë™ìƒ', break: ['ëˆ„ì´ ì', 'ëˆ„ì´ ë§¤'] },
        { word: 'ë‚¨ë…€', hanja: 'ç”·å¥³', desc: 'ë‚¨ìì™€ ì—¬ì', break: ['ì‚¬ë‚´ ë‚¨', 'ê³„ì§‘ ë…€'] },
        { word: 'ì—¬ì', hanja: 'å¥³å­', desc: 'ì—¬ì„±', break: ['ê³„ì§‘ ë…€', 'ì•„ë“¤ ì'] },
        { word: 'ë‚¨ì', hanja: 'ç”·å­', desc: 'ë‚¨ì„±', break: ['ì‚¬ë‚´ ë‚¨', 'ì•„ë“¤ ì'] },
        { word: 'ìì‹', hanja: 'å­æ¯', desc: 'ì•„ë“¤ê³¼ ë”¸', break: ['ì•„ë“¤ ì', 'ì‰´ ì‹'] },
        { word: 'ë¶€ì¸', hanja: 'å¤«äºº', desc: 'ë‚¨ì˜ ì•„ë‚´ë¥¼ ë†’ì—¬ ë¶€ë¥´ëŠ” ë§', break: ['ì‚¬ë‚´ ë¶€', 'ì‚¬ëŒ ì¸'] },
        { word: 'ë…¸ì¸', hanja: 'è€äºº', desc: 'ë‚˜ì´ê°€ ë§ì€ ì‚¬ëŒ', break: ['ëŠ™ì„ ë¡œ', 'ì‚¬ëŒ ì¸'] },
        { word: 'ë³¸ì¸', hanja: 'æœ¬äºº', desc: 'ìê¸° ìì‹ ', break: ['ê·¼ë³¸ ë³¸', 'ì‚¬ëŒ ì¸'] },
        { word: 'ëª…ìˆ˜', hanja: 'åæ‰‹', desc: 'ê¸°ìˆ ì´ ì•„ì£¼ ë›°ì–´ë‚œ ì‚¬ëŒ', break: ['ì´ë¦„ ëª…', 'ì† ìˆ˜'] },
        { word: 'ìˆ˜ì¡±', hanja: 'æ‰‹è¶³', desc: 'ì†ê³¼ ë°œ', break: ['ì† ìˆ˜', 'ë°œ ì¡±'] },
        { word: 'ë¯¼ì‹¬', hanja: 'æ°‘å¿ƒ', desc: 'ë°±ì„±ì˜ ë§ˆìŒ', break: ['ë°±ì„± ë¯¼', 'ë§ˆìŒ ì‹¬'] },
        { word: 'ì™•ì‹¤', hanja: 'ç‹å®¤', desc: 'ì„ê¸ˆì˜ ì§‘ì•ˆ', break: ['ì„ê¸ˆ ì™•', 'ì§‘ ì‹¤'] },
        { word: 'ì¸êµ¬', hanja: 'äººå£', desc: 'ì‚¬ëŒì˜ ìˆ˜', break: ['ì‚¬ëŒ ì¸', 'ì… êµ¬'] },
        { word: 'í•™êµ', hanja: 'å­¸æ ¡', desc: 'ë°°ìš°ëŠ” ê³³', break: ['ë°°ìš¸ í•™', 'í•™êµ êµ'] },
        { word: 'í•™ìƒ', hanja: 'å­¸ç”Ÿ', desc: 'ê³µë¶€í•˜ëŠ” ì‚¬ëŒ', break: ['ë°°ìš¸ í•™', 'ë‚  ìƒ'] },
        { word: 'ì„ ìƒ', hanja: 'å…ˆç”Ÿ', desc: 'ê°€ë¥´ì¹˜ëŠ” ë¶„', break: ['ë¨¼ì € ì„ ', 'ë‚  ìƒ'] },
        { word: 'êµì‹¤', hanja: 'æ•å®¤', desc: 'ê³µë¶€í•˜ëŠ” ë°©', break: ['ê°€ë¥´ì¹  êµ', 'ì§‘ ì‹¤'] },
        { word: 'êµì‚¬', hanja: 'æ•å¸«', desc: 'ê°€ë¥´ì¹˜ëŠ” ìŠ¤ìŠ¹', break: ['ê°€ë¥´ì¹  êµ', 'ìŠ¤ìŠ¹ ì‚¬'] },
        { word: 'í•™ìŠµ', hanja: 'å­¸ç¿’', desc: 'ë°°ìš°ê³  ìµí˜', break: ['ë°°ìš¸ í•™', 'ìµí ìŠµ'] },
        { word: 'ì…í•™', hanja: 'å…¥å­¸', desc: 'í•™êµì— ë“¤ì–´ê°', break: ['ë“¤ ì…', 'ë°°ìš¸ í•™'] },
        { word: 'ë°©í•™', hanja: 'æ”¾å­¸', desc: 'ìˆ˜ì—…ì„ ì‰¬ëŠ” ê¸°ê°„', break: ['ë†“ì„ ë°©', 'ë°°ìš¸ í•™'] },
        { word: 'í•™ë…„', hanja: 'å­¸å¹´', desc: 'ê³µë¶€í•˜ëŠ” í•´', break: ['ë°°ìš¸ í•™', 'í•´ ë…„'] },
        { word: 'í•œì', hanja: 'æ¼¢å­—', desc: 'ì¤‘êµ­ ê¸€ì', break: ['í•œë‚˜ë¼ í•œ', 'ê¸€ì ì'] },
        { word: 'ë¬¸ì', hanja: 'æ–‡å­—', desc: 'ê¸€ì', break: ['ê¸€ì›” ë¬¸', 'ê¸€ì ì'] },
        { word: 'ë…ì„œ', hanja: 'è®€æ›¸', desc: 'ì±…ì„ ì½ìŒ', break: ['ì½ì„ ë…', 'ê¸€ ì„œ'] },
        { word: 'ì§ˆë¬¸', hanja: 'è³ªå•', desc: 'ë¬»ëŠ” ê²ƒ', break: ['ë°”íƒ• ì§ˆ', 'ë¬¼ì„ ë¬¸'] },
        { word: 'íšŒë‹µ', hanja: 'å›ç­”', desc: 'ëŒ€ë‹µí•¨', break: ['ëŒì•„ì˜¬ íšŒ', 'ëŒ€ë‹µ ë‹µ'] },
        { word: 'ì •ë‹µ', hanja: 'æ­£ç­”', desc: 'ë°”ë¥¸ ë‹µ', break: ['ë°”ë¥¼ ì •', 'ëŒ€ë‹µ ë‹µ'] },
        { word: 'ì‚°ì²œ', hanja: 'å±±å·', desc: 'ì‚°ê³¼ ì‹œë‚´', break: ['ì‚° ì‚°', 'ì‹œë‚´ ì²œ'] },
        { word: 'ê°•ì‚°', hanja: 'æ±Ÿå±±', desc: 'ê°•ê³¼ ì‚°', break: ['ê°• ê°•', 'ì‚° ì‚°'] },
        { word: 'í™”ì‚°', hanja: 'ç«å±±', desc: 'ë¶ˆì„ ë¿œëŠ” ì‚°', break: ['ë¶ˆ í™”', 'ì‚° ì‚°'] },
        { word: 'ì„ì‚°', hanja: 'çŸ³å±±', desc: 'ëŒì´ ë§ì€ ì‚°', break: ['ëŒ ì„', 'ì‚° ì‚°'] },
        { word: 'ì´ˆëª©', hanja: 'è‰æœ¨', desc: 'í’€ê³¼ ë‚˜ë¬´', break: ['í’€ ì´ˆ', 'ë‚˜ë¬´ ëª©'] },
        { word: 'ì²œì§€', hanja: 'å¤©åœ°', desc: 'í•˜ëŠ˜ê³¼ ë•…', break: ['í•˜ëŠ˜ ì²œ', 'ë•… ì§€'] },
        { word: 'ì¼ì¶œ', hanja: 'æ—¥å‡º', desc: 'í•´ê°€ ëœ¸', break: ['ë‚  ì¼', 'ë‚  ì¶œ'] },
        { word: 'ì›”ì¶œ', hanja: 'æœˆå‡º', desc: 'ë‹¬ì´ ëœ¸', break: ['ë‹¬ ì›”', 'ë‚  ì¶œ'] },
        { word: 'í’ë‘', hanja: 'é¢¨æµª', desc: 'ë°”ëŒê³¼ ë¬¼ê²°', break: ['ë°”ëŒ í’', 'ë¬¼ê²° ë‘'] },
        { word: 'ì²­ì‚°', hanja: 'é‘å±±', desc: 'í‘¸ë¥¸ ì‚°', break: ['í‘¸ë¥¼ ì²­', 'ì‚° ì‚°'] },
        { word: 'ë°±ì„¤', hanja: 'ç™½é›ª', desc: 'í° ëˆˆ', break: ['í° ë°±', 'ëˆˆ ì„¤'] },
        { word: 'ëŒ€í’', hanja: 'å¤§é¢¨', desc: 'í° ë°”ëŒ', break: ['í´ ëŒ€', 'ë°”ëŒ í’'] },
        { word: 'ìˆ˜ë ¥', hanja: 'æ°´åŠ›', desc: 'ë¬¼ì˜ í˜', break: ['ë¬¼ ìˆ˜', 'í˜ ë ¥'] },
        { word: 'í™”ë ¥', hanja: 'ç«åŠ›', desc: 'ë¶ˆì˜ í˜', break: ['ë¶ˆ í™”', 'í˜ ë ¥'] },
        { word: 'ë§Œë¬¼', hanja: 'è¬ç‰©', desc: 'ì„¸ìƒì˜ ëª¨ë“  ê²ƒ', break: ['ì¼ë§Œ ë§Œ', 'ë¬¼ê±´ ë¬¼'] },
        { word: 'ì¼ì¼', hanja: 'ä¸€æ—¥', desc: 'í•˜ë£¨', break: ['í•œ ì¼', 'ë‚  ì¼'] },
        { word: 'ì¼ë“±', hanja: 'ä¸€ë“±', desc: 'ì²«ì§¸ ë“±ê¸‰', break: ['í•œ ì¼', 'ë¬´ë¦¬ ë“±'] },
        { word: 'ì‚¼ì´Œ', hanja: 'ä¸‰å¯¸', desc: 'ì•„ë²„ì§€ì˜ í˜•ì œ', break: ['ì„ ì‚¼', 'ë§ˆë”” ì´Œ'] },
        { word: 'ì‚¬ì´Œ', hanja: 'å››å¯¸', desc: 'ë¶€ëª¨ë‹˜ í˜•ì œì˜ ìë…€', break: ['ë„‰ ì‚¬', 'ë§ˆë”” ì´Œ'] },
        { word: 'ì˜¤ê°', hanja: 'äº”æ„Ÿ', desc: 'ë‹¤ì„¯ ê°ê°', break: ['ë‹¤ì„¯ ì˜¤', 'ëŠë‚„ ê°'] },
        { word: 'ìœ ì›”', hanja: 'å…­æœˆ', desc: '6ì›”', break: ['ì—¬ì„¯ ìœ¡', 'ë‹¬ ì›”'] },
        { word: 'ì‹œì›”', hanja: 'åæœˆ', desc: '10ì›”', break: ['ì—´ ì‹­', 'ë‹¬ ì›”'] },
        { word: 'ë°±ë…„', hanja: 'ç™¾å¹´', desc: 'ë°± ë…„ ë™ì•ˆ', break: ['ì¼ë°± ë°±', 'í•´ ë…„'] },
        { word: 'ì²œë…„', hanja: 'åƒå¹´', desc: 'ì²œ ë…„ ë™ì•ˆ', break: ['ì¼ì²œ ì²œ', 'í•´ ë…„'] },
        { word: 'ë§Œì„¸', hanja: 'è¬æ­²', desc: 'ì˜¤ëœ ì„¸ì›”', break: ['ì¼ë§Œ ë§Œ', 'í•´ ì„¸'] },
        { word: 'ì˜¤ì „', hanja: 'åˆå‰', desc: 'ë‚® 12ì‹œ ì´ì „', break: ['ë‚® ì˜¤', 'ì• ì „'] },
        { word: 'ì˜¤í›„', hanja: 'åˆå¾Œ', desc: 'ë‚® 12ì‹œ ì´í›„', break: ['ë‚® ì˜¤', 'ë’¤ í›„'] },
        { word: 'ì‹œê°„', hanja: 'æ™‚é–“', desc: 'ë•Œì™€ ë•Œ ì‚¬ì´', break: ['ë•Œ ì‹œ', 'ì‚¬ì´ ê°„'] },
        { word: 'ê¸ˆì¼', hanja: 'ä»Šæ—¥', desc: 'ì˜¤ëŠ˜', break: ['ì´ì œ ê¸ˆ', 'ë‚  ì¼'] },
        { word: 'ëª…ë…„', hanja: 'æ˜å¹´', desc: 'ë‚´ë…„', break: ['ë°ì„ ëª…', 'í•´ ë…„'] },
        { word: 'ë™ì„œ', hanja: 'æ±è¥¿', desc: 'ë™ìª½ê³¼ ì„œìª½', break: ['ë™ë…˜ ë™', 'ì„œë…˜ ì„œ'] },
        { word: 'ë‚¨ë¶', hanja: 'å—åŒ—', desc: 'ë‚¨ìª½ê³¼ ë¶ìª½', break: ['ë‚¨ë…˜ ë‚¨', 'ë¶ë…˜ ë¶'] },
        { word: 'ìƒí•˜', hanja: 'ä¸Šä¸‹', desc: 'ìœ„ì™€ ì•„ë˜', break: ['ìœ„ ìƒ', 'ì•„ë˜ í•˜'] },
        { word: 'ì¢Œìš°', hanja: 'å·¦å³', desc: 'ì™¼ìª½ê³¼ ì˜¤ë¥¸ìª½', break: ['ì™¼ ì¢Œ', 'ì˜¤ë¥¸ ìš°'] },
        { word: 'ì¤‘ì•™', hanja: 'ä¸­å¤®', desc: 'í•œê°€ìš´ë°', break: ['ê°€ìš´ë° ì¤‘', 'ê°€ìš´ë° ì•™'] },
        { word: 'ë‚´ì™¸', hanja: 'å…§ì™¸', desc: 'ì•ˆê³¼ ê²‰', break: ['ì•ˆ ë‚´', 'ë°”ê¹¥ ì™¸'] },
        { word: 'ëŒ€ë¬¸', hanja: 'å¤§é–€', desc: 'í° ë¬¸', break: ['í´ ëŒ€', 'ë¬¸ ë¬¸'] },
        { word: 'ì…êµ¬', hanja: 'å…¥å£', desc: 'ë“¤ì–´ê°€ëŠ” ê³³', break: ['ë“¤ ì…', 'ì… êµ¬'] },
        { word: 'ì¶œêµ¬', hanja: 'å‡ºå£', desc: 'ë‚˜ê°€ëŠ” ê³³', break: ['ë‚  ì¶œ', 'ì… êµ¬'] },
        { word: 'ì§€ìƒ', hanja: 'åœ°ä¸Š', desc: 'ë•… ìœ„', break: ['ë•… ì§€', 'ìœ„ ìƒ'] },
        { word: 'ëŒ€ì†Œ', hanja: 'å¤§å°', desc: 'í¬ê³  ì‘ìŒ', break: ['í´ ëŒ€', 'ì‘ì„ ì†Œ'] },
        { word: 'ì¥ë‹¨', hanja: 'é•·çŸ­', desc: 'ê¸¸ê³  ì§§ìŒ', break: ['ê¸¸ ì¥', 'ì§§ì„ ë‹¨'] },
        { word: 'ë‹¤ì†Œ', hanja: 'å¤šå°‘', desc: 'ë§ê³  ì ìŒ', break: ['ë§ì„ ë‹¤', 'ì ì„ ì†Œ'] },
        { word: 'ê³ ì €', hanja: 'é«˜ä½', desc: 'ë†’ê³  ë‚®ìŒ', break: ['ë†’ì„ ê³ ', 'ë‚®ì„ ì €'] },
        { word: 'ì‹ êµ¬', hanja: 'æ–°èˆŠ', desc: 'ìƒˆê²ƒê³¼ ì˜›ê²ƒ', break: ['ìƒˆ ì‹ ', 'ì˜ˆ êµ¬'] },
        { word: 'ì•ˆì „', hanja: 'å®‰å…¨', desc: 'ìœ„í—˜í•˜ì§€ ì•ŠìŒ', break: ['í¸ì•ˆ ì•ˆ', 'ì˜¨ì „ ì „'] },
        { word: 'í‰íƒ„', hanja: 'å¹³íƒ„', desc: 'í‰í‰í•¨', break: ['í‰í‰í•  í‰', 'í‰íƒ„í•  íƒ„'] },
        { word: 'ê°•ë ¥', hanja: 'å¼·åŠ›', desc: 'í˜ì´ ê°•í•¨', break: ['ê°•í•  ê°•', 'í˜ ë ¥'] },
        { word: 'ì†Œì‹', hanja: 'å°é£Ÿ', desc: 'ì ê²Œ ë¨¹ìŒ', break: ['ì‘ì„ ì†Œ', 'ë¨¹ì„ ì‹'] },
        { word: 'ëŒ€ì‹', hanja: 'å¤§é£Ÿ', desc: 'ë§ì´ ë¨¹ìŒ', break: ['í´ ëŒ€', 'ë¨¹ì„ ì‹'] },
        { word: 'ì²­ë…„', hanja: 'é‘å¹´', desc: 'ì Šì€ ì‚¬ëŒ', break: ['í‘¸ë¥¼ ì²­', 'í•´ ë…„'] },
        { word: 'ë°±ì¸', hanja: 'ç™½äºº', desc: 'í° í”¼ë¶€ì˜ ì‚¬ëŒ', break: ['í° ë°±', 'ì‚¬ëŒ ì¸'] },
        { word: 'ì¥ë‚¨', hanja: 'é•·ç”·', desc: 'ì²«ì§¸ ì•„ë“¤', break: ['ê¸¸ ì¥', 'ì‚¬ë‚´ ë‚¨'] },
        { word: 'ì¥ë…€', hanja: 'é•·å¥³', desc: 'ì²«ì§¸ ë”¸', break: ['ê¸¸ ì¥', 'ê³„ì§‘ ë…€'] },
        { word: 'ì¥ìˆ˜', hanja: 'é•·å£½', desc: 'ì˜¤ë˜ ì‚¶', break: ['ê¸¸ ì¥', 'ëª©ìˆ¨ ìˆ˜'] },
        { word: 'ì‹ì‚¬', hanja: 'é£Ÿäº‹', desc: 'ë°¥ì„ ë¨¹ìŒ', break: ['ë¨¹ì„ ì‹', 'ì¼ ì‚¬'] },
        { word: 'íœ´ì¼', hanja: 'ä¼‘æ—¥', desc: 'ì‰¬ëŠ” ë‚ ', break: ['ì‰´ íœ´', 'ë‚  ì¼'] },
        { word: 'ì°¨ë„', hanja: 'è»Šé“', desc: 'ì°¨ê°€ ë‹¤ë‹ˆëŠ” ê¸¸', break: ['ìˆ˜ë ˆ ì°¨', 'ê¸¸ ë„'] },
        { word: 'ì¶œì…', hanja: 'å‡ºå…¥', desc: 'ë‚˜ê°€ê³  ë“¤ì–´ì˜´', break: ['ë‚  ì¶œ', 'ë“¤ ì…'] },
        { word: 'í•˜ì°¨', hanja: 'ä¸‹è»Š', desc: 'ì°¨ì—ì„œ ë‚´ë¦¼', break: ['ì•„ë˜ í•˜', 'ìˆ˜ë ˆ ì°¨'] },
        { word: 'ì •ì°¨', hanja: 'åœè»Š', desc: 'ì°¨ê°€ ë©ˆì¶¤', break: ['ë¨¸ë¬´ë¥¼ ì •', 'ìˆ˜ë ˆ ì°¨'] },
        { word: 'ììŠµ', hanja: 'è‡ªç¿’', desc: 'ìŠ¤ìŠ¤ë¡œ ê³µë¶€í•¨', break: ['ìŠ¤ìŠ¤ë¡œ ì', 'ìµí ìŠµ'] },
        { word: 'ì¼ì‹¬', hanja: 'ä¸€å¿ƒ', desc: 'í•œë§ˆìŒ', break: ['í•œ ì¼', 'ë§ˆìŒ ì‹¬'] },
        { word: 'í‰ìƒ', hanja: 'å¹³ç”Ÿ', desc: 'ì‚´ì•„ ìˆëŠ” ë™ì•ˆ', break: ['í‰í‰í•  í‰', 'ë‚  ìƒ'] },
        { word: 'ì£¼ì¸', hanja: 'ä¸»äºº', desc: 'ì„ì', break: ['ì„ê¸ˆ ì£¼', 'ì‚¬ëŒ ì¸'] },
        { word: 'í† ì§€', hanja: 'åœŸåœ°', desc: 'ë•…', break: ['í™ í† ', 'ë•… ì§€'] },
        { word: 'ìƒê¸°', hanja: 'ç”Ÿæ°£', desc: 'ì‹±ì‹±í•œ ê¸°ìš´', break: ['ë‚  ìƒ', 'ê¸°ìš´ ê¸°'] },
        { word: 'ëª…ë¬¸', hanja: 'åæ–‡', desc: 'ë›°ì–´ë‚œ ë¬¸ì¥', break: ['ì´ë¦„ ëª…', 'ê¸€ì›” ë¬¸'] }
    ];

    let currentIndex = 0;
    let w1 = null, w2 = null;

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ë°”ë¡œ ì‹œì‘
    window.onload = () => {
        loadWord(0);
    };

    function speak(text) {
        window.speechSynthesis.cancel();
        const utterance = new SpeechSynthesisUtterance(text);
        utterance.lang = 'ko-KR';
        utterance.rate = 0.9;
        window.speechSynthesis.speak(utterance);
    }

    function loadWord(idx) {
        currentIndex = idx;
        const data = hanjaList[idx];
        
        document.getElementById('main-word').innerText = `${data.word} (${data.hanja})`;
        document.getElementById('main-desc').innerText = `"${data.desc}"`;
        document.getElementById('progress-text').innerText = `${idx + 1} / ${hanjaList.length}`;
        document.getElementById('main-progress').style.width = ((idx + 1) / hanjaList.length * 100) + "%";
        document.getElementById('btn-speak-top').onclick = () => speak(`${data.word}. ${data.desc}`);

        let tableHtml = '';
        [...data.hanja].forEach((char, i) => {
            if(data.break[i]) tableHtml += `<tr><td class="hanja-display">${char}</td><td><strong>${data.break[i]}</strong></td></tr>`;
        });
        document.getElementById('breakdown-content').innerHTML = tableHtml;

        document.getElementById('view-char1').innerHTML = '';
        document.getElementById('view-char2').innerHTML = '';
        
        w1 = HanziWriter.create('view-char1', data.hanja[0], { width: 130, height: 130, padding: 5, strokeColor: '#FF7F50' });
        if(data.hanja[1]) {
            w2 = HanziWriter.create('view-char2', data.hanja[1], { width: 130, height: 130, padding: 5, strokeColor: '#2196F3' });
        } else { w2 = null; }

        setTimeout(() => playSequence(), 600);

        const quizBox = document.getElementById('quiz-content');
        const feedback = document.getElementById('quiz-feedback');
        feedback.innerText = "";
        
        const wrongIdx = (idx + 5) % hanjaList.length;
        const options = [data.hanja, hanjaList[wrongIdx].hanja].sort(() => Math.random() - 0.5);
        
        quizBox.innerHTML = `<p>Q. "${data.word}"ì— ì•Œë§ì€ í•œìëŠ”?</p>`;
        options.forEach(opt => {
            quizBox.innerHTML += `<button class="quiz-option" onclick="checkQuiz(this, '${opt}' === '${data.hanja}')">${opt}</button>`;
        });

        let btns = '';
        [...data.hanja].forEach(c => {
            if (c.match(/[ä¸€-é¾¥]/)) btns += `<button class="btn-action" onclick="startDraw('${c}')">${c} ì“°ê¸°</button>`;
        });
        document.getElementById('draw-buttons').innerHTML = btns;
    }

    function playSequence() {
        if(!w1) return;
        w1.hideCharacter();
        if(w2) w2.hideCharacter();
        w1.animateCharacter({
            onComplete: () => {
                if(w2) {
                    setTimeout(() => w2.animateCharacter(), 300);
                }
            }
        });
    }

    function checkQuiz(btn, isCorrect) {
        const feedback = document.getElementById('quiz-feedback');
        if(isCorrect) {
            feedback.style.color = "#4CAF50";
            feedback.innerText = "ì •ë‹µì…ë‹ˆë‹¤! ì˜í–ˆì–´ìš”! ğŸŒŸ";
            btn.style.background = "#c8e6c9";
            speak("ì •ë‹µì…ë‹ˆë‹¤!");
        } else {
            feedback.style.color = "#f44336";
            feedback.innerText = "ë‹¤ì‹œ í•´ë³´ì„¸ìš”! ğŸ¥";
            btn.style.background = "#ffcdd2";
            speak("ë‹¤ì‹œ í•´ë³´ì„¸ìš”.");
            setTimeout(() => {
                btn.style.background = "white";
                feedback.innerText = "";
            }, 1500);
        }
    }

    function startDraw(char) {
        showPage('page2');
        document.getElementById('target-draw').innerHTML = '';
        document.getElementById('quiz-guide').innerText = `"${char}"ë¥¼ ì¨ë³´ì„¸ìš”!`;
        let dw = HanziWriter.create('target-draw', char, { width: 240, height: 240, showCharacter: false, showHintAfterMisses: 1 });
        dw.quiz({ onComplete: () => { 
            speak("ì •ë§ ë©‹ì ¸ìš”!");
            alert("ì™„ë²½í•˜ê²Œ ì¼ì–´ìš”! âœ¨"); 
        }});
    }

    function changeWord(n) {
        const next = currentIndex + n;
        if(next >= 0 && next < hanjaList.length) loadWord(next);
    }

    function showPage(pId) {
        document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
        document.getElementById(pId).classList.add('active');
    }
</script>
</body>
</html>

