<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ğŸŒŸ ì´ˆë“± í•„ìˆ˜ í•œì 100</title>
    <script src="https://cdn.jsdelivr.net/npm/hanzi-writer@3.0.0/dist/hanzi-writer.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Jua&display=swap');
        :root { --primary: #FF7F50; --secondary: #FFD700; --bg: #FDFCF0; --point-blue: #2196F3; }
        body { font-family: 'Jua', sans-serif; background-color: var(--bg); margin: 0; padding: 0; color: #333; }
        header { background: white; padding: 10px 15px; display: flex; justify-content: space-between; align-items: center; border-bottom: 4px solid var(--secondary); position: sticky; top: 0; z-index: 100; }
        .logo { font-size: 1.3rem; color: var(--primary); }
        .page { display: none; padding: 15px; max-width: 500px; margin: auto; }
        .active { display: block; }
        .card { background: white; padding: 20px; border-radius: 20px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); margin-bottom: 20px; text-align: center; }
        .section-title { border-left: 5px solid var(--primary); padding-left: 10px; margin-top: 25px; text-align: left; font-size: 1.1rem; }
        .info-label { font-size: 1.5rem; font-weight: bold; margin: 5px 0; }
        #main-eum { color: #FF5722; }
        #main-desc { color: #2196F3; }
        .breakdown-table { width: 100%; border-collapse: collapse; margin-top: 10px; background: #fff; border-radius: 12px; overflow: hidden; border: 1px solid #eee; }
        .breakdown-table td { border: 1px solid #eee; padding: 15px; text-align: center; }
        .hanja-unit { font-size: 2.2rem; color: var(--primary); font-weight: bold; width: 40%; }
        .meaning-unit { font-size: 1.3rem; color: #444; text-align: left; padding-left: 20px; }
        .step-bar { display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; background: #fff; padding: 8px 15px; border-radius: 50px; }
        .btn-step { background: var(--primary); color: white; border: none; padding: 8px 15px; border-radius: 20px; font-family: 'Jua'; }
        .writer-flex { display: flex; justify-content: center; gap: 10px; margin: 15px 0; flex-wrap: wrap; }
        .char-box { border: 2px solid #ddd; border-radius: 12px; background: white; width: 100px; height: 100px; display: flex; align-items: center; justify-content: center; }
        .quiz-option { display: block; width: 100%; padding: 12px; margin: 8px 0; background: white; border: 2px solid #eee; border-radius: 12px; font-family: 'Jua'; font-size: 1.1rem; }
        .btn-action { background: #4CAF50; color: white; border: none; padding: 12px 20px; border-radius: 12px; font-size: 1rem; cursor: pointer; font-family: 'Jua'; }
    </style>
</head>
<body>

<div id="login-page" class="page active">
    <div class="card">
        <h1>ë°˜ê°€ì›Œìš”! ì´ë¦„ì„ ì•Œë ¤ì£¼ì„¸ìš”.</h1>
        <input type="text" id="user-name-input" style="width:80%; padding:15px; font-size:1.2rem; border-radius:15px; border:2px solid #ddd; font-family:'Jua'; text-align:center;">
        <br><br>
        <button class="btn-action" onclick="handleLogin()">ê³µë¶€ ì‹œì‘!</button>
    </div>
</div>

<div id="main-content" style="display: none;">
    <header>
        <div class="logo">ğŸŒŸ ì´ˆë“± í•œì 100</div>
        <div id="user-pts" style="background: var(--primary); color: white; padding: 4px 12px; border-radius: 10px;">0P</div>
    </header>

    <div id="page1" class="page active">
        <div class="step-bar">
            <button class="btn-step" onclick="changeWord(-1)">â—€ ì´ì „</button>
            <span id="progress-text">1 / 100</span>
            <button class="btn-step" onclick="changeWord(1)">ë‹¤ìŒ â–¶</button>
        </div>
        
        <div class="card">
            <h1 id="main-word" style="color:var(--point-blue); font-size: 3.5rem; margin: 0;"></h1>
            <div id="main-eum" class="info-label"></div> 
            <div id="main-desc" class="info-label"></div>
            
            <h3 class="section-title">â‘  í•œì ëœ»í’€ì´</h3>
            <table class="breakdown-table"><tbody id="hanja-breakdown"></tbody></table>

            <h3 class="section-title">â‘¡ íšìˆœ ë”°ë¼ë³´ê¸°</h3>
            <div class="writer-flex" id="writer-container"></div>
            <button class="btn-action" style="background:#2196F3;" onclick="playSequence()">ë‹¤ì‹œ ë³´ê¸°</button>

            <h3 class="section-title">â‘¢ í€´ì¦ˆ</h3>
            <div id="quiz-content"></div>
        </div>
    </div>
</div>

<script>
    // 1. ë°ì´í„° êµì • (í•œê¸€ë¡œ ì„ì—¬ìˆë˜ í•œìë“¤ì„ ì§„ì§œ í•œìë¡œ ì „ë©´ êµì²´)
    const rawData = [
        "ä¸€æ—¥,ì¼ì¼,í•˜ë£¨", "äºŒæœˆ,ì´ì›”,2ì›”", "ä¸‰æœˆ,ì‚¼ì›”,3ì›”", "å››æ–¹,ì‚¬ë°©,ë„¤ ë°©í–¥", "äº”æœˆ,ì˜¤ì›”,5ì›”", "å…­æœˆ,ìœ ì›”,6ì›”", "ä¸ƒæ—¥,ì¹ ì¼,7ì¼ ë™ì•ˆ", "å…«æ–¹,íŒ”ë°©,ëª¨ë“  ë°©í–¥", "ä¹å,êµ¬ì‹­,90", "åæœˆ,ì‹œì›”,10ì›”",
        "ç™¾äºº,ë°±ì¸,ë°± ëª…ì˜ ì‚¬ëŒ", "åƒé‡‘,ì²œê¸ˆ,ë§ì€ ëˆ", "è¬ä¸€,ë§Œì¼,ë§Œì•½ì—", "å±±å·,ì‚°ì²œ,ì‚°ê³¼ ì‹œë‚´", "æ±Ÿå±±,ê°•ì‚°,ê°•ê³¼ ì‚°", "ç«å±±,í™”ì‚°,ë¶ˆ ë¿œëŠ” ì‚°", "çŸ³å±±,ì„ì‚°,ëŒì‚°", "åœŸæœ¨,í† ëª©,í™ê³¼ ë‚˜ë¬´", "æœ¨æ‰‹,ëª©ìˆ˜,ë‚˜ë¬´ ë‹¤ë£¨ëŠ” ì‚¬ëŒ", "ç”Ÿå­,ìƒì,ì•„ë“¤ì„ ë‚³ìŒ",
        "æ°´åŠ›,ìˆ˜ë ¥,ë¬¼ì˜ í˜", "ç«åŠ›,í™”ë ¥,ë¶ˆì˜ í˜", "å¤§åŠ›,ëŒ€ë ¥,í° í˜", "æ°´è»Š,ìˆ˜ì°¨,ë¬¼ë ˆë°©ì•„", "æ—¥æœˆ,ì¼ì›”,í•´ì™€ ë‹¬", "å¹³æ—¥,í‰ì¼,ë³´í†µ ë•Œì˜ ë‚ ", "ä¼‘æ—¥,íœ´ì¼,ì‰¬ëŠ” ë‚ ", "æœˆå‡º,ì›”ì¶œ,ë‹¬ì´ ëœ¸", "å¤§å°,ëŒ€ì†Œ,í¬ê³  ì‘ìŒ", "ä¸Šä¸‹,ìƒí•˜,ìœ„ì™€ ì•„ë˜",
        "å·¦å³,ì¢Œìš°,ì™¼ìª½ê³¼ ì˜¤ë¥¸ìª½", "æ±è¥¿,ë™ì„œ,ë™ìª½ê³¼ ì„œìª½", "å—åŒ—,ë‚¨ë¶,ë‚¨ìª½ê³¼ ë¶ìª½", "é•·çŸ­,ì¥ë‹¨,ê¸¸ê³  ì§§ìŒ", "å¤šå°‘,ë‹¤ì†Œ,ë§ê³  ì ìŒ", "é«˜ä½,ê³ ì €,ë†’ê³  ë‚®ìŒ", "å…§å¤–,ë‚´ì™¸,ì•ˆê³¼ ë°–", "å‰å¾Œ,ì „í›„,ì•ê³¼ ë’¤", "ä¸­é–“,ì¤‘ê°„,ì‚¬ì´", "ä¸­å¤®,ì¤‘ì•™,í•œê°€ìš´ë°",
        "å¤©åœ°,ì²œì§€,í•˜ëŠ˜ê³¼ ë•…", "å¤©ä¸‹,ì²œí•˜,ì˜¨ ì„¸ìƒ", "ç™½æ‰‹,ë°±ìˆ˜,ë¹ˆì†", "ç™½ç±³,ë°±ë¯¸,í° ìŒ€", "èµ¤åœŸ,ì í† ,ë¶‰ì€ í™", "é‡‘çŸ³,ê¸ˆì„,ì‡ ì™€ ëŒ", "ä¸­å¹´,ì¤‘ë…„,ì¤‘ë…„", "å°‘å¹´,ì†Œë…„,ì Šì€ì´", "ä»Šå¹´,ê¸ˆë…„,ì˜¬í•´", "åŠå¹´,ë°˜ë…„,ë°˜ë…„",
        "äººå£,ì¸êµ¬,ì‚¬ëŒì˜ ìˆ˜", "ä¸»äºº,ì£¼ì¸,ë¬¼ê±´ì˜ ì„ì", "æœ¬äºº,ë³¸ì¸,ìê¸° ìì‹ ", "å¤«äºº,ë¶€ì¸,ë‚¨ì˜ ì•„ë‚´", "åæ‰‹,ëª…ìˆ˜,ì†œì”¨ ì¢‹ì€ ì‚¬ëŒ", "æ‰‹è¶³,ìˆ˜ì¡±,ì†ê³¼ ë°œ", "å…¥å£,ì…êµ¬,ë“¤ì–´ê°€ëŠ” ê³³", "å‡ºå£,ì¶œêµ¬,ë‚˜ê°€ëŠ” ê³³", "å…¥å±±,ì…ì‚°,ì‚°ì— ë“¤ì–´ê°", "ä¸‹å±±,í•˜ì‚°,ì‚°ì—ì„œ ë‚´ë ¤ì˜´",
        "åœ°ä¸Š,ì§€ìƒ,ë•… ìœ„", "åœ°ä¸‹,ì§€í•˜,ë•… ì•„ë˜", "æ°´ä¸­,ìˆ˜ì¤‘,ë¬¼ì†", "å¿ƒä¸­,ì‹¬ì¤‘,ë§ˆìŒì†", "å¤§é–€,ëŒ€ë¬¸,í° ë¬¸", "æ ¡é–€,êµë¬¸,í•™êµ ë¬¸", "å°é–€,ì†Œë¬¸,ì‘ì€ ë¬¸", "åé–€,ëª…ë¬¸,ì´ë¦„ë‚œ ì§‘ì•ˆ", "å…ˆç”Ÿ,ì„ ìƒ,ë¨¼ì € íƒœì–´ë‚œ ë¶„", "å­¸ç”Ÿ,í•™ìƒ,ë°°ìš°ëŠ” ì‚¬ëŒ",
        "ç”Ÿæ—¥,ìƒì¼,íƒœì–´ë‚œ ë‚ ", "äººç”Ÿ,ì¸ìƒ,ì‚¬ëŒì˜ ì‚¶", "å¥³å­,ì—¬ì,ì—¬ì„±", "ç”·å­,ë‚¨ì,ë‚¨ì„±", "ç‹å­,ì™•ì,ì„ê¸ˆì˜ ì•„ë“¤", "çˆ¶å­,ë¶€ì,ì•„ë²„ì§€ì™€ ì•„ë“¤", "çˆ¶æ¯,ë¶€ëª¨,ì•„ë²„ì§€ì™€ ì–´ë¨¸ë‹ˆ", "å…„å¼Ÿ,í˜•ì œ,í˜•ê³¼ ë‚¨ë™ìƒ", "ç‹å®¤,ì™•ì‹¤,ì„ê¸ˆì˜ ê°€ì¡±", "ç™¾å§“,ë°±ì„±,ë‚˜ë¼ì˜ êµ­ë¯¼",
        "è¬æ­²,ë§Œì„¸,ê¸°ìœ ì™¸ì¹¨", "ç™½é›²,ë°±ìš´,í° êµ¬ë¦„", "é‘å±±,ì²­ì‚°,í‘¸ë¥¸ ì‚°", "é‘å¤©,ì²­ì²œ,í‘¸ë¥¸ í•˜ëŠ˜", "ç¶ åœ°,ë…¹ì§€,í’€ì´ ìš°ê±°ì§„ ê³³", "åœŸåœ°,í† ì§€,ë•…", "è¬ç‰©,ë§Œë¬¼,ëª¨ë“  ë¬¼ê±´", "ç”Ÿæ°£,ìƒê¸°,ì‚´ì•„ ìˆëŠ” ê¸°ìš´", "å°ì¸,ì†Œì¸,ì‘ì€ ì‚¬ëŒ", "å¤§äºº,ëŒ€ì¸,í° ì‚¬ëŒ",
        "åäºº,ëª…ì¸,ì´ë¦„ë‚œ ì‚¬ëŒ", "è€äºº,ë…¸ì¸,ëŠ™ì€ ì‚¬ëŒ", "é•·ç”·,ì¥ë‚¨,ì²«ì§¸ ì•„ë“¤", "é•·å¥³,ì¥ë…€,ì²«ì§¸ ë”¸", "å­æ¯,ìì‹,ì•„ë“¤ê³¼ ë”¸", "åˆ†åˆ†,ë¶„ë¶„,ì—¬ëŸ¿ìœ¼ë¡œ ë‚˜ë‰¨", "æ­£æœˆ,ì •ì›”,ì²«ì§¸ ë‹¬", "æ­£ç›´,ì •ì§,ë°”ë¥´ê³  ê³§ìŒ", "å®‰å¿ƒ,ì•ˆì‹¬,ë§ˆìŒì„ í¸íˆ í•¨", "ä¸€å¿ƒ,ì¼ì‹¬,í•œë§ˆìŒ"
    ];

    // 2. í•œì ì‚¬ì „ ì™„ì„± (ì´ë¯¸ì§€ì— ë‚˜ì˜¨ ì›”, ìˆ˜, ì°¨ í¬í•¨ ëª¨ë“  í•„ìˆ˜ í•œì ë“±ë¡)
    const hanjaDic = {
        "ä¸€": "í•œ ì¼", "äºŒ": "ë‘ ì´", "ä¸‰": "ì„ ì‚¼", "å››": "ë„‰ ì‚¬", "äº”": "ë‹¤ì„¯ ì˜¤", "å…­": "ì—¬ì„¯ ë¥™", "ä¸ƒ": "ì¼ê³± ì¹ ", "å…«": "ì—¬ëŸ íŒ”", "ä¹": "ì•„í™‰ êµ¬", "å": "ì—´ ì‹­",
        "ç™¾": "ì¼ë°± ë°±", "åƒ": "ì¼ì²œ ì²œ", "è¬": "ì¼ë§Œ ë§Œ", "äºº": "ì‚¬ëŒ ì¸", "é‡‘": "ì‡  ê¸ˆ", "å±±": "ë©” ì‚°", "å·": "ì‹œë‚´ ì²œ", "æ±Ÿ": "ê°€ëŒ ê°•", "ç«": "ë¶ˆ í™”", "çŸ³": "ëŒ ì„",
        "åœŸ": "í™ í† ", "æœ¨": "ë‚˜ë¬´ ëª©", "æ‰‹": "ì† ìˆ˜", "ç”Ÿ": "ë‚  ìƒ", "å­": "ì•„ë“¤ ì", "æ°´": "ë¬¼ ìˆ˜", "åŠ›": "í˜ ë ¥", "è»Š": "ìˆ˜ë ˆ ì°¨", "æ—¥": "ë‚  ì¼", "æœˆ": "ë‹¬ ì›”",
        "å¹³": "í‰í‰í•  í‰", "ä¼‘": "ì‰´ íœ´", "å‡º": "ë‚  ì¶œ", "å¤§": "í° ëŒ€", "å°": "ì‘ì„ ì†Œ", "ä¸Š": "ìœ„ ìƒ", "ä¸‹": "ì•„ë˜ í•˜", "å·¦": "ì™¼ ì¢Œ", "å³": "ì˜¤ë¥¸ ìš°", "æ±": "ë™ë…˜ ë™",
        "è¥¿": "ì„œë…˜ ì„œ", "å—": "ë‚¨ë…˜ ë‚¨", "åŒ—": "ë¶ë…˜ ë¶", "é•·": "ê¸¸ ì¥", "çŸ­": "ì§§ì„ ë‹¨", "å¤š": "ë§ì„ ë‹¤", "å°‘": "ì ì„ ì†Œ", "é«˜": "ë†’ì„ ê³ ", "ä½": "ë‚®ì„ ì €", "å…§": "ì•ˆ ë‚´", 
        "å¤–": "ë°”ê¹¥ ì™¸", "å‰": "ì• ì „", "å¾Œ": "ë’¤ í›„", "ä¸­": "ê°€ìš´ë° ì¤‘", "é–“": "ì‚¬ì´ ê°„", "å¤®": "ê°€ìš´ë° ì•™", "å¤©": "í•˜ëŠ˜ ì²œ", "åœ°": "ë•… ì§€", "ç™½": "í° ë°±", "ç±³": "ìŒ€ ë¯¸",
        "èµ¤": "ë¶‰ì„ ì ", "å¹´": "í•´ ë…„", "ä»Š": "ì´ì œ ê¸ˆ", "åŠ": "ë°˜ ë°˜", "å£": "ì… êµ¬", "ä¸»": "ì£¼ì¸ ì£¼", "æœ¬": "ê·¼ë³¸ ë³¸", "å¤«": "ì§€ì•„ë¹„ ë¶€", "å": "ì´ë¦„ ëª…", "è¶³": "ë°œ ì¡±",
        "å…¥": "ë“¤ ì…", "é–€": "ë¬¸ ë¬¸", "æ ¡": "í•™êµ êµ", "å…ˆ": "ë¨¼ì € ì„ ", "å­¸": "ë°°ìš¸ í•™", "å¥³": "ì—¬ì ë…€", "ç”·": "ì‚¬ë‚´ ë‚¨", "ç‹": "ì„ê¸ˆ ì™•", "çˆ¶": "ì•„ë²„ì§€ ë¶€", "æ¯": "ì–´ë¨¸ë‹ˆ ëª¨",
        "å…„": "í˜• í˜•", "ì œ": "ì•„ìš° ì œ", "å®¤": "ì§‘ ì‹¤", "å§“": "ì„± ì„±", "æ­²": "í•´ ì„¸", "é›²": "êµ¬ë¦„ ìš´", "é‘": "í‘¸ë¥¼ ì²­", "ç¶ ": "í‘¸ë¥¼ ë¡", "ç‰©": "ë§Œë¬¼ ë¬¼", "æ°£": "ê¸°ìš´ ê¸°",
        "è€": "ëŠ™ì„ ë¡œ", "æ¯": "ìˆ¨ì‰´ ì‹", "åˆ†": "ë‚˜ëˆŒ ë¶„", "æ­£": "ë°”ë¥¼ ì •", "ç›´": "ê³§ì„ ì§", "å®‰": "í¸ì•ˆ ì•ˆ", "å¿ƒ": "ë§ˆìŒ ì‹¬", "æ–¹": "ëª¨ ë°©"
    };

    const hanjaList = rawData.map((item, idx) => {
        const [word, eum, desc] = item.split(",");
        return { id: idx, word, eum, desc };
    });

    let currentIdx = 0;
    let writers = [];
    let userPoints = 0;

    function handleLogin() {
        const name = document.getElementById('user-name-input').value;
        if(!name) return alert("ì´ë¦„ì„ ì¨ì£¼ì„¸ìš”!");
        document.getElementById('login-page').style.display = 'none';
        document.getElementById('main-content').style.display = 'block';
        loadWord(0);
    }

    function loadWord(idx) {
        currentIdx = idx;
        const data = hanjaList[idx];
        document.getElementById('main-word').innerText = data.word;
        document.getElementById('main-eum').innerText = `ìŒ : ${data.eum}`;
        document.getElementById('main-desc').innerText = `ëœ» : ${data.desc}`;
        document.getElementById('progress-text').innerText = `${idx + 1} / 100`;

        // ëœ»í’€ì´ í…Œì´ë¸” ì±„ìš°ê¸°
        const tbody = document.getElementById('hanja-breakdown');
        tbody.innerHTML = '';
        [...data.word].forEach(char => {
            const meaning = hanjaDic[char] || "ì •ë³´ ì—†ìŒ";
            tbody.innerHTML += `<tr><td class="hanja-unit">${char}</td><td class="meaning-unit">${meaning}</td></tr>`;
        });

        // íšìˆœ ì• ë‹ˆë©”ì´ì…˜ ì´ˆê¸°í™”
        const container = document.getElementById('writer-container');
        container.innerHTML = '';
        writers = [];
        [...data.word].forEach((char, i) => {
            const div = document.createElement('div');
            div.className = 'char-box';
            div.id = `box-${i}`;
            container.appendChild(div);
            const writer = HanziWriter.create(div.id, char, { width: 80, height: 80, padding: 5, strokeColor: '#FF7F50' });
            writers.push(writer);
        });
        setTimeout(() => playSequence(), 500);

        // í€´ì¦ˆ ìƒì„±
        const qBox = document.getElementById('quiz-content');
        qBox.innerHTML = `<p>${data.word}ì˜ ì˜¬ë°”ë¥¸ ëœ»ì€?</p>`;
        const options = [data.desc, "ë‹¤ë¥¸ ëœ»", "ì—‰ëš±í•œ ëœ»"].sort(() => Math.random() - 0.5);
        options.forEach(opt => {
            qBox.innerHTML += `<button class="quiz-option" onclick="checkQuiz('${opt}', '${data.desc}')">${opt}</button>`;
        });
    }

    async function playSequence() {
        for(let w of writers) { w.hideCharacter(); }
        for(let w of writers) { await new Promise(r => w.animateCharacter({ onComplete: r })); }
    }

    function checkQuiz(choice, answer) {
        if(choice === answer) {
            alert("ì •ë‹µì…ë‹ˆë‹¤! +10P");
            userPoints += 10;
            document.getElementById('user-pts').innerText = `${userPoints}P`;
        } else {
            alert("ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”!");
        }
    }

    function changeWord(n) {
        const next = currentIdx + n;
        if(next >= 0 && next < 100) loadWord(next);
    }
</script>
</body>
</html>




